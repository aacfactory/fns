# Barrier

---

Fns的请求栅栏。

简而言之，它是分布式版的`singleflight.Group`。

一般用于只读请求，在并发环境中，对同一个`fn`的相同请求，在第一个请求开始至结束时间窗口中，其它请求都共享第一个的结果。这样减轻了服务压力。

## 注意
* 相同请求是对请求身份敏感的，当`Authorization`不同时，即使其它参数相同，也是两个不同的请求。
* 请不要随义用于非`@readonly`函数中，除非有特殊需求，比如该函数一定是有`Authorization`的，且函数不希望出现请求抖动。
* 在集群中，如不满意，可以在`Cluster`中调整。

## 使用
在函数上打上`@barrier`注解即可。

